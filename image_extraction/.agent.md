This folder contains the image extraction components.

## Environment Setup
**IMPORTANT**: Use the virtual environment `paddleocr_env` for all Python operations in this directory.
- Python executable: `./paddleocr_env/bin/python3`

## Usage
- Run extractor: make extract
- Run tests:     make test
- Depends on: data/database.json, data/images/, saves to data/battles/

## PaddleOCR Configuration
- Current version uses PaddleOCR 3.2.0
- OCR parameters are read from `extraction_config.json` under `ocr_settings`
- **Enhanced OCR System**: Uses 7-layer fallback strategies for challenging text
  - Primary: `text_det_limit_side_len=32` for optimized small text detection
  - Fallback 1: No size limit OCR for complex layouts
  - Fallback 2: Contrast enhancement preprocessing
  - Fallback 3: Gamma correction + aggressive thresholds
  - Fallback 4: Image scaling for very small text
  - Fallback 5: Padded images for edge cases
  - Fallback 6: Unsharp masking + aggressive OCR (NEW!)
  - Fallback 7: Complex preprocessing (bilateral + gamma + scale) (NEW!)
- Configuration supports: language, text_det_limit_side_len, use_textline_orientation, text_det_thresh, text_det_box_thresh, text_rec_score_thresh
